scripted_map_modes = {
	market_map_mode = {
		top = {
			type = country

			color = {
				if = {
					limit = { FROM = { is_subject = yes } }
					set_temp_variable = { sphere_leader = FROM.OVERLORD }
					if = {
						limit = { var:sphere_leader = { is_subject = yes } }
						set_temp_variable = { sphere_leader = sphere_leader.sphere_leader }
					}
					set_temp_variable = { red = global.red@var:sphere_leader }
					set_temp_variable = { green = global.green@var:sphere_leader }
					set_temp_variable = { blue = global.blue@var:sphere_leader }
				}
				else = {
					set_temp_variable = { red = global.red@var:FROM }
					set_temp_variable = { green = global.green@var:FROM }
					set_temp_variable = { blue = global.blue@var:FROM }
				}
				set_temp_variable = { alpha = 1 }
				set_temp_variable = { thickness = 40 }
			}

			targets = {

			}

			thickness = yes
		}
		bottom = {
			type = country

			color = {
				if = {
					limit = { FROM = { is_subject = yes } }
					set_temp_variable = { sphere_leader = FROM.OVERLORD }
					if = {
						limit = { var:sphere_leader = { is_subject = yes } }
						set_temp_variable = { sphere_leader = sphere_leader.sphere_leader }
					}
					set_temp_variable = { red = global.red@var:sphere_leader }
					set_temp_variable = { green = global.green@var:sphere_leader }
					set_temp_variable = { blue = global.blue@var:sphere_leader }
				}
				else = {
					set_temp_variable = { red = global.red@var:FROM }
					set_temp_variable = { green = global.green@var:FROM }
					set_temp_variable = { blue = global.blue@var:FROM }
				}
				set_temp_variable = { alpha = 0.65 }

				#always = yes
			}

			targets = {

			}

			thickness = no
		}

		far_text = country
		near_text = country

		update_daily = no
	}
}